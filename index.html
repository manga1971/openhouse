<!DOCTYPE html>
<html lang="ro" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vanzare Teren - Îți găsim terenul exact unde vrei. Soluții personalizate pentru proiecte logistice, industriale și retail în București și Ilfov.">
    <meta name="keywords" content="teren de vanzare, teren industrial, teren logistic, teren comercial, strip mall, land hunting, vanzare teren Bucuresti, vanzare teren Ilfov">
    <meta name="author" content="Vanzare Teren">
    <meta property="og:title" content="Vanzare Teren - Îți găsim terenul, exact unde vrei." />
    <meta property="og:description" content="Soluții personalizate pentru proiecte logistice, industriale și retail. Shortlist în 7-14 zile." />
    <meta property="og:image" content="https://manga1971.github.io/openhouse/uploads/og-image.jpg"> <meta property="og:url" content="https://vanzareteren.ro">
    <meta name="twitter:card" content="summary_large_image">
    <title>Vanzare Teren - Îți găsim terenul, exact unde vrei.</title>

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            -webkit-overflow-scrolling: touch;
            height: 100vh;
            background-color: black;
        }

        .snap-section {
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding-bottom: 4rem;
            z-index: 0;
        }

        .background-element {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .background-element.active {
            opacity: 1;
        }
        
        .background-container {
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .youtube-iframe {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100vw;
            height: 100vh;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .text-overlay {
            background-color: rgba(64, 64, 64, 0.4);
            backdrop-filter: blur(2px);
            padding: 1.5rem;
            border-radius: 0.75rem;
            text-align: center;
            width: 96%;
            box-sizing: border-box;
            transition: all 0.5s ease-in-out;
            z-index: 2;
        }

        .text-overlay:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            margin: auto;
            padding: 0;
            width: 96%;
            max-width: 800px;
            border-radius: 0.75rem;
            overflow: hidden;
        }

        .modal-body {
            background-color: #000;
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }

        .modal-body iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .close-button {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            z-index: 101;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
        }

        .framed-button {
            border: 2px solid #ef4444;
            color: #ef4444;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            display: inline-block;
            margin-top: 1.5rem;
            text-decoration: none;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .framed-button:hover {
            background-color: #ef4444;
            color: #ffffff;
            box-shadow: 0 4px 14px rgba(239, 68, 68, 0.4);
        }

        @media (min-width: 768px) {
            .snap-section {
                padding-bottom: 6rem;
            }
            .text-overlay {
                width: 80%;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gray-900 text-white">

    <header class="fixed top-0 left-0 w-full p-4 z-[9999] bg-transparent">
        <div class="flex items-center justify-start">
            <svg id="logo-openhouse" width="210" height="40" viewBox="0 0 210 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="transition-colors duration-500">
                <text x="0" y="30" font-family="Inter, sans-serif" font-size="30" font-weight="bold">Vanzare Teren</text>
            </svg>
        </div>
        <nav class="absolute top-4 right-4 md:right-8">
            <ul class="flex space-x-4">
                <li><a href="/oferte.html" class="text-white hover:text-red-500 transition-colors duration-300">Oferte</a></li>
                <li><a href="/caut-teren.html" class="text-white hover:text-red-500 transition-colors duration-300">Caut teren</a></li>
                <li><a href="/pentru-proprietari.html" class="text-white hover:text-red-500 transition-colors duration-300">Pentru proprietari</a></li>
                <li><a href="/despre.html" class="text-white hover:text-red-500 transition-colors duration-300">Despre</a></li>
                <li><a href="/contact.html" class="text-white hover:text-red-500 transition-colors duration-300">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div id="youtube-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal" aria-label="Închide video">×</span>
            <div class="modal-body">
                <div id="youtube-player"></div>
            </div>
        </div>
    </div>

    <main id="main-content" class="scroll-snap-container h-screen overflow-y-scroll" role="main">
        <section id="snap-scroll-1" class="snap-section bg-gray-800">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h1 id="snap1-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h1>
                <p id="snap1-content" class="text-white text-base md:text-lg leading-relaxed whitespace-pre-line"></p>
                <a href="/caut-teren.html" id="snap1-cta" class="framed-button mt-6">Caut teren</a>
            </div>
        </section>

        <section id="snap-scroll-2" class="snap-section bg-gray-700">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h2 id="snap2-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h2>
                <p id="snap2-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <div class="bg-gray-800 p-4 rounded-lg mt-4 w-full max-w-sm">
                    <p class="text-lg font-semibold text-white">WANTED: Teren Logistic</p>
                    <ul class="text-sm text-gray-300 mt-2 list-disc list-inside text-left">
                        <li>Suprafață: 15.000 - 25.000 mp</li>
                        <li>Acces: Ieșire A0, Nord</li>
                        <li>Frontaj: ≥ 50 m</li>
                        <li>Utilități: DA</li>
                    </ul>
                    <a href="/caut-teren.html" class="framed-button mt-4 w-full">Spune-ne ce cauți</a>
                </div>
            </div>
        </section>

        <section id="snap-scroll-3" class="snap-section bg-gray-600">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h2 id="snap3-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h2>
                <p id="snap3-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <div class="bg-gray-800 p-4 rounded-lg mt-4 w-full max-w-sm">
                    <p class="text-lg font-semibold text-white">AVEM CERERE ACTIVĂ pentru:</p>
                    <ul class="text-sm text-gray-300 mt-2 list-disc list-inside text-left">
                        <li>Teren comercial, București Nord</li>
                        <li>Suprafață: 5.000 - 10.000 mp</li>
                        <li>Vizibilitate: Bulevard principal</li>
                        <li>Potrivit pentru: Strip Mall</li>
                    </ul>
                    <a href="/pentru-proprietari.html" class="framed-button mt-4 w-full">Am teren compatibil</a>
                </div>
            </div>
        </section>

        <section id="snap-scroll-4" class="snap-section bg-gray-500">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center space-y-4">
                <p id="snap4-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></p>
                <p id="snap4-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <a href="/contact.html" id="snap4-link" class="framed-button mt-6">Contactează-ne</a>
                <p id="snap4-phone" class="text-red-500 border-2 border-red-500 rounded-xl px-4 py-2 text-lg md:text-xl font-bold"></p>
                <div class="flex items-center space-x-2">
                    <a href="#" id="snap4-whatsapp-link" target="_blank" rel="noopener noreferrer" class="text-green-500 text-2xl md:text-3xl"><i class="fab fa-whatsapp"></i></a>
                    <span class="text-white text-lg md:text-xl">Whatsapp</span>
                </div>
                <p id="snap4-email" class="text-blue-400 border-2 border-white rounded-xl px-4 py-2 text-lg md:text-xl"></p>
                <div class="flex items-center space-x-4 mt-4">
                    <a href="#" id="snap4-linkedin-link" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-400 text-3xl transition-colors duration-300"><i class="fab fa-linkedin"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-youtube-link" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-400 text-3xl transition-colors duration-300"><i class="fab fa-youtube"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-tiktok-link" target="_blank" rel="noopener noreferrer" class="text-gray-200 hover:text-gray-400 text-3xl transition-colors duration-300"><i class="fab fa-tiktok"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-instagram-link" target="_blank" rel="noopener noreferrer" class="text-pink-500 hover:text-pink-300 text-3xl transition-colors duration-300"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </section>
    </main>

    <footer class="w-full py-4 bg-gray-900 text-gray-400 text-center text-sm md:text-base absolute bottom-0 z-40">
        <div class="flex justify-center space-x-4">
            <a href="#" class="hover:underline">Confidențialitate</a>
            <span>I</span>
            <a href="#" class="hover:underline">Termeni și condiții</a>
        </div>
    </footer>

    <script>
        function getBasePath() {
            const pathname = window.location.pathname;
            const repoName = 'openhouse'; // Numele folderului repo-ului pe GitHub Pages
            const index = pathname.indexOf('/' + repoName);
            if (index !== -1) {
                return pathname.substring(0, index + repoName.length + 1); // Calea completă până la folder
            }
            return ''; // Pentru cazul în care site-ul nu e pe GitHub Pages sau e la root
        }

        const basePath = getBasePath();
        
        // Căi relative pentru fișierele media - folosite acum doar pentru fallback sau ca exemple
        // Asigură-te că aceste fișiere există în folderul 'uploads' al proiectului tău
        const mediaPath = `${basePath}uploads/`;

        const pageContent = {
            mobile: {
                snap1: {
                    title: "Îți găsim terenul, exact unde vrei.",
                    content: "Soluții personalizate pentru proiecte logistice, industriale și retail. Spune zona pe hartă, primești un shortlist în 7-14 zile.",
                    mp4Url: `${mediaPath}V1.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS1.jpg`, // Placeholder
                    linkCtaText: "Caut teren",
                    linkCtaUrl: "/caut-teren.html"
                },
                snap2: {
                    title: "Avem cerere activă. Găsim ce cauți.",
                    content: "Spune-ne ce cauți și, în baza cerințelor tale, îți vom trimite un pachet de due-diligence rapid.",
                    linkCtaText: "Spune-ne ce cauți", // Acest link va fi acum pe un buton sub cardul "WANTED"
                    linkCtaUrl: "/caut-teren.html",
                    mp4Url: `${mediaPath}V2.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS2.jpg`, // Placeholder
                },
                snap3: {
                    title: "Vindem terenul tău rapid. Avem cerere activă.",
                    content: "Dacă terenul tău se potrivește uneia dintre cererile active ale clienților noștri, îți aducem cumpărătorul în cel mai scurt timp.",
                    linkCtaText: "Am teren compatibil", // Acest link va fi acum pe un buton sub cardul "WANTED"
                    linkCtaUrl: "/pentru-proprietari.html",
                    mp4Url: `${mediaPath}V3.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS3.jpg`, // Placeholder
                },
                snap4: {
                    title: "Un partener de încredere pentru afacerea ta.",
                    content: "Un nou început nu așteaptă. Începe cu o decizie inspirată și continuă cu noi.",
                    linkCtaText: "Contactează-ne",
                    linkCtaUrl: "/contact.html",
                    contact: {
                        phone: "+40726340034",
                        whatsapp: "https://wa.me/40726340034",
                        email: "intravilan@gmail.com",
                        social: {
                            linkedin: "https://www.linkedin.com/company/google", // Exemplu, înlocuiește cu link-uri reale
                            youtube: "https://www.youtube.com/user/youtube", // Exemplu
                            tiktok: "https://www.tiktok.com/@tiktok", // Exemplu
                            instagram: "https://www.instagram.com/instagram" // Exemplu
                        }
                    },
                    mp4Url: `${mediaPath}V4.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS4.jpg`, // Placeholder
                }
            },
            desktop: {
                snap1: {
                    title: "Îți găsim terenul, exact unde vrei.",
                    content: "Soluții personalizate pentru proiecte logistice, industriale și retail. Spune zona pe hartă, primești un shortlist în 7-14 zile.",
                    youtubeId: "vNscPtijCe4", // Exemplu YouTube ID
                    imageUrl: `${mediaPath}SS1.jpg`, // Placeholder
                    linkCtaText: "Caut teren",
                    linkCtaUrl: "/caut-teren.html"
                },
                snap2: {
                    title: "Avem cerere activă. Găsim ce cauți.",
                    content: "Spune-ne ce cauți și, în baza cerințelor tale, îți vom trimite un pachet de due-diligence rapid.",
                    linkCtaText: "Spune-ne ce cauți",
                    linkCtaUrl: "/caut-teren.html",
                    mp4Url: `${mediaPath}V2.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS2.jpg`, // Placeholder
                },
                snap3: {
                    title: "Vindem terenul tău rapid. Avem cerere activă.",
                    content: "Dacă terenul tău se potrivește uneia dintre cererile active ale clienților noștri, îți aducem cumpărătorul în cel mai scurt timp.",
                    linkCtaText: "Am teren compatibil",
                    linkCtaUrl: "/pentru-proprietari.html",
                    mp4Url: `${mediaPath}V3.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS3.jpg`, // Placeholder
                },
                snap4: {
                    title: "Un partener de încredere pentru afacerea ta.",
                    content: "Un nou început nu așteaptă. Începe cu o decizie inspirată și continuă cu noi.",
                    linkCtaText: "Contactează-ne",
                    linkCtaUrl: "/contact.html",
                    contact: {
                        phone: "+40726340034",
                        whatsapp: "https://wa.me/40726340034",
                        email: "intravilan@gmail.com",
                        social: {
                            linkedin: "https://www.linkedin.com/company/google",
                            youtube: "https://www.youtube.com/user/youtube",
                            tiktok: "https://www.tiktok.com/@tiktok",
                            instagram: "https://www.instagram.com/instagram"
                        }
                    },
                    mp4Url: `${mediaPath}V4.mp4`, // Placeholder
                    imageUrl: `${mediaPath}SS4.jpg`, // Placeholder
                }
            }
        };

        let backgroundYoutubePlayers = {};

        const isMobileDevice = () => window.innerWidth < 768;

        function loadYouTubeAPI() {
            if (typeof YT !== 'undefined' && YT.Player) {
                if (window.onYouTubeIframeAPIReady) {
                    window.onYouTubeIframeAPIReady();
                }
                return;
            }

            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            setTimeout(() => {
                if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
                    console.warn('YouTube API failed to load. Some video functionalities might be affected.');
                }
            }, 5000);
        }

        window.onYouTubeIframeAPIReady = function() {
            document.querySelectorAll('.snap-section').forEach((section, index) => {
                const isDesktop = !isMobileDevice();
                const snapKey = `snap${index + 1}`;
                const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];
                
                if (isDesktop && section.id === 'snap-scroll-1' && content.youtubeId) {
                    const playerDivId = `youtube-bg-player-${section.id}`;
                    let playerDiv = document.getElementById(playerDivId);

                    if (!playerDiv) {
                        playerDiv = document.createElement('div');
                        playerDiv.id = playerDivId;
                        playerDiv.className = 'youtube-iframe background-element';
                        section.querySelector('.background-container').appendChild(playerDiv);
                    }

                    if (!backgroundYoutubePlayers[playerDivId]) {
                        backgroundYoutubePlayers[playerDivId] = new YT.Player(playerDivId, {
                            videoId: content.youtubeId,
                            playerVars: {
                                autoplay: 0,
                                controls: 0,
                                loop: 1,
                                mute: 1,
                                playlist: content.youtubeId,
                                rel: 0,
                                showinfo: 0,
                                modestbranding: 1
                            },
                            events: {
                                'onReady': (event) => {
                                    event.target.setPlaybackQuality('hd1080');
                                    setTimeout(() => playerDiv.classList.add('active'), 50);
                                },
                                'onStateChange': (event) => {
                                    if (event.data === YT.PlayerState.ENDED) {
                                        event.target.seekTo(0);
                                    }
                                }
                            }
                        });
                    }
                }
            });
        };

        function updateBackground(sectionElement, contentData) {
            const bgContainer = sectionElement.querySelector('.background-container');
            if (!bgContainer) {
                console.warn(`Containerul de fundal lipsește pentru secțiunea ${sectionElement.id}`);
                return;
            }
            bgContainer.innerHTML = ''; 

            let elementToAppend = null;
            const isDesktop = !isMobileDevice();

            if (isDesktop && sectionElement.id === 'snap-scroll-1' && contentData.youtubeId) {
                const playerDivId = `youtube-bg-player-${sectionElement.id}`;
                let existingPlayerDiv = document.getElementById(playerDivId);
                if (existingPlayerDiv) {
                    bgContainer.appendChild(existingPlayerDiv);
                    setTimeout(() => existingPlayerDiv.classList.add('active'), 50);
                    return;
                } else {
                    const playerDiv = document.createElement('div');
                    playerDiv.id = playerDivId;
                    playerDiv.className = 'youtube-iframe background-element';
                    bgContainer.appendChild(playerDiv);
                    return;
                }
            }
            
            if (contentData.mp4Url && contentData.mp4Url !== '') {
                const video = document.createElement('video');
                video.src = contentData.mp4Url;
                video.className = 'background-element'; 
                video.autoplay = true;
                video.loop = true;
                video.muted = true;
                video.playsInline = true;
                video.preload = "auto";
                video.setAttribute('aria-label', `Video de fundal pentru secțiunea ${sectionElement.id.replace('snap-scroll-', '')}`);

                video.onerror = (e) => {
                    console.error(`Eroare la incarcarea video-ului MP4: ${video.src}`, e);
                    if (contentData.imageUrl && contentData.imageUrl !== '') {
                        const img = document.createElement('img');
                        img.src = contentData.imageUrl;
                        img.className = 'background-element active';
                        img.alt = `Fundal static (fallback video) pentru ${sectionElement.id}`;
                        img.loading = "lazy";
                        bgContainer.innerHTML = '';
                        bgContainer.appendChild(img);
                    } else {
                        bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal video indisponibil.</div>';
                    }
                };
                
                elementToAppend = video;
                
            } else if (contentData.imageUrl && contentData.imageUrl !== '') {
                const img = document.createElement('img');
                img.src = contentData.imageUrl;
                img.className = 'background-element'; 
                img.alt = `Fundal pentru secțiunea ${sectionElement.id.replace('snap-scroll-', '')}`;
                img.loading = "lazy";

                img.onerror = (e) => {
                    console.error(`Eroare la incarcarea imaginii: ${img.src}`, e);
                    bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal imagine indisponibil.</div>';
                };
                elementToAppend = img;
            } else {
                bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal indisponibil.</div>';
            }

            if (elementToAppend) {
                bgContainer.appendChild(elementToAppend);

                if (elementToAppend.tagName === 'VIDEO') {
                    elementToAppend.play().catch(e => {
                        console.warn(`Autoplay video MP4 blocat pentru ${elementToAppend.src}. Eroare:`, e);
                        if (contentData.imageUrl && contentData.imageUrl !== '') {
                            const img = document.createElement('img');
                            img.src = contentData.imageUrl;
                            img.className = 'background-element active';
                            img.alt = `Fundal static (video blocat) pentru ${sectionElement.id}`;
                            img.loading = "lazy";
                            bgContainer.innerHTML = '';
                            bgContainer.appendChild(img);
                        } else {
                            bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Video nu poate fi redat automat.</div>';
                        }
                    });
                }
                
                if (!(isDesktop && sectionElement.id === 'snap-scroll-1' && contentData.youtubeId)) {
                    setTimeout(() => elementToAppend.classList.add('active'), 50);
                }
            }
        }

        function populateContent() {
            const currentContentSource = isMobileDevice() ? pageContent.mobile : pageContent.desktop;

            // Snap 1
            const snap1Data = currentContentSource.snap1;
            const snap1Title = document.getElementById('snap1-title');
            const snap1Content = document.getElementById('snap1-content');
            const snap1Cta = document.getElementById('snap1-cta');

            if (snap1Title) snap1Title.textContent = snap1Data.title || '';
            if (snap1Content) snap1Content.textContent = snap1Data.content || '';
            if (snap1Cta) {
                snap1Cta.textContent = snap1Data.linkCtaText || '';
                snap1Cta.href = snap1Data.linkCtaUrl || '#';
                snap1Cta.style.display = snap1Data.linkCtaText ? 'inline-block' : 'none';
            }
            const snap1Section = document.getElementById('snap-scroll-1');
            if (snap1Section) updateBackground(snap1Section, snap1Data);

            // Snap 2
            const snap2Data = currentContentSource.snap2;
            const snap2Title = document.getElementById('snap2-title');
            const snap2Content = document.getElementById('snap2-content');
            const snap2Section = document.getElementById('snap-scroll-2');

            if (snap2Title) snap2Title.textContent = snap2Data.title || '';
            if (snap2Content) snap2Content.textContent = snap2Data.content || '';
            // Butonul CTA este acum în interiorul cardului WANTED în HTML
            if (snap2Section) updateBackground(snap2Section, snap2Data);


            // Snap 3
            const snap3Data = currentContentSource.snap3;
            const snap3Title = document.getElementById('snap3-title');
            const snap3Content = document.getElementById('snap3-content');
            const snap3Section = document.getElementById('snap-scroll-3');

            if (snap3Title) snap3Title.textContent = snap3Data.title || '';
            if (snap3Content) snap3Content.textContent = snap3Data.content || '';
            // Butonul CTA este acum în interiorul cardului WANTED în HTML
            if (snap3Section) updateBackground(snap3Section, snap3Data);


            // Snap 4
            const snap4Data = currentContentSource.snap4;
            const snap4Title = document.getElementById('snap4-title');
            const snap4Content = document.getElementById('snap4-content');
            const snap4Link = document.getElementById('snap4-link');
            const snap4Phone = document.getElementById('snap4-phone');
            const snap4WhatsappLink = document.getElementById('snap4-whatsapp-link');
            const snap4Email = document.getElementById('snap4-email');
            const snap4LinkedinLink = document.getElementById('snap4-linkedin-link');
            const snap4YoutubeLink = document.getElementById('snap4-youtube-link');
            const snap4TiktokLink = document.getElementById('snap4-tiktok-link');
            const snap4InstagramLink = document.getElementById('snap4-instagram-link');
            const snap4Section = document.getElementById('snap-scroll-4');

            if (snap4Title) snap4Title.textContent = snap4Data.title || '';
            if (snap4Content) snap4Content.textContent = snap4Data.content || '';
            if (snap4Link) {
                snap4Link.textContent = snap4Data.linkCtaText || '';
                snap4Link.href = snap4Data.linkCtaUrl || '#';
                snap4Link.style.display = snap4Data.linkCtaText ? 'inline-block' : 'none';
            }

            if (snap4Phone) {
                snap4Phone.textContent = ` ${snap4Data.contact.phone}` || '';
                snap4Phone.style.display = snap4Data.contact.phone ? 'block' : 'none';
            }
            if (snap4WhatsappLink) {
                snap4WhatsappLink.href = snap4Data.contact.whatsapp || '#';
                if (snap4WhatsappLink.parentElement) {
                    snap4WhatsappLink.parentElement.style.display = snap4Data.contact.whatsapp ? 'flex' : 'none';
                }
            }
            if (snap4Email) {
                snap4Email.textContent = ` ${snap4Data.contact.email}` || '';
                snap4Email.style.display = snap4Data.contact.email ? 'block' : 'none';
            }

            if (snap4LinkedinLink) snap4LinkedinLink.href = snap4Data.contact.social.linkedin || '#';
            if (snap4YoutubeLink) snap4YoutubeLink.href = snap4Data.contact.social.youtube || '#';
            if (snap4TiktokLink) snap4TiktokLink.href = snap4Data.contact.social.tiktok || '#';
            if (snap4InstagramLink) snap4InstagramLink.href = snap4Data.contact.social.instagram || '#';

            const socialLinksContainer = document.querySelector('#snap-scroll-4 .flex.items-center.space-x-4');
            if (socialLinksContainer) {
                const hasSocialLinks = Object.values(snap4Data.contact.social).some(link => link && link !== '#');
                socialLinksContainer.style.display = hasSocialLinks ? 'flex' : 'none';
            }

            if (snap4Section) updateBackground(snap4Section, snap4Data);
        }

        const logoColors = ['#F97316', '#FACC15', '#22C55E', '#A855F7'];
        const logoElement = document.getElementById('logo-openhouse');
        const snapSections = document.querySelectorAll('.snap-section');
        const mainContent = document.getElementById('main-content'); // Am adăugat această linie pentru a te asigura că `mainContent` este definit

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const index = Array.from(snapSections).indexOf(entry.target);
                    if (index !== -1 && logoElement) { // Verificare pentru logoElement
                        logoElement.style.color = logoColors[index];

                        const isDesktop = !isMobileDevice();
                        const snapKey = `snap${index + 1}`;
                        const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];

                        if (isDesktop && entry.target.id === 'snap-scroll-1' && content.youtubeId) {
                             const playerDivId = `youtube-bg-player-${entry.target.id}`;
                             const player = backgroundYoutubePlayers[playerDivId];
                             if (player && player.playVideo) {
                                 const playPromise = player.playVideo();
                                 if (playPromise !== undefined) {
                                     playPromise.then(_ => {
                                     }).catch(error => {
                                         const bgContainer = entry.target.querySelector('.background-container');
                                         if (content.imageUrl && bgContainer) { // Verificare bgContainer
                                            const img = document.createElement('img');
                                            img.src = content.imageUrl;
                                            img.className = 'background-element active';
                                            img.alt = 'Video blocat';
                                            bgContainer.innerHTML = ''; 
                                            bgContainer.appendChild(img);
                                         }
                                     });
                                 }
                             }
                         }
                    }
                } else {
                    const index = Array.from(snapSections).indexOf(entry.target);
                    const isDesktop = !isMobileDevice();
                    const snapKey = `snap${index + 1}`;
                    const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];

                    if (isDesktop && entry.target.id === 'snap-scroll-1' && content.youtubeId) {
                         const playerDivId = `youtube-bg-player-${entry.target.id}`;
                         const player = backgroundYoutubePlayers[playerDivId];
                         if (player && player.pauseVideo) {
                             player.pauseVideo();
                         }
                    }
                }
            });
        }, {
            threshold: 0.5
        });

        snapSections.forEach(section => {
            observer.observe(section);
        });

        const youtubeModal = document.getElementById('youtube-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const youtubePlayerDiv = document.getElementById('youtube-player');
        let modalYoutubePlayer;

        function openYoutubeModal(videoId) {
            if (youtubeModal) youtubeModal.style.display = 'flex';

            if (typeof YT !== 'undefined' && YT.Player && youtubePlayerDiv) { // Verificare youtubePlayerDiv
                if (modalYoutubePlayer) {
                    modalYoutubePlayer.loadVideoById(videoId);
                } else {
                    modalYoutubePlayer = new YT.Player('youtube-player', {
                        videoId: videoId,
                        playerVars: {
                            autoplay: 1,
                            controls: 1,
                            rel: 0,
                            showinfo: 0,
                            modestbranding: 1
                        }
                    });
                }
            } else {
                console.warn("YouTube API not loaded or player div missing. Cannot open video modal.");
            }
        }

        function closeYoutubeModal() {
            if (youtubeModal) youtubeModal.style.display = 'none';
            if (modalYoutubePlayer && modalYoutubePlayer.stopVideo) {
                modalYoutubePlayer.stopVideo();
            }
        }
        
        if (closeModalBtn) closeModalBtn.onclick = closeYoutubeModal;
        window.onclick = function(event) {
            if (youtubeModal && event.target == youtubeModal) { // Verificare youtubeModal
                closeYoutubeModal();
            }
        };

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                populateContent();
            }, 250);
        });

        window.addEventListener('load', () => {
            populateContent();
            loadYouTubeAPI();
        });
    </script>
</body>
</html>
