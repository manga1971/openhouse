<!DOCTYPE html>
<html lang="ro" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Terenuri de vânzare în Ilfov și București. Alege dintre zeci de oferte verificate cu utilități, acte, video și hartă.">
    <meta name="keywords" content="teren de vanzare, teren intravilan, teren Corbeanca, teren Snagov, teren Dobroesti, vanzare teren Bucuresti Ilfov">
    <meta name="author" content="Vanzare Teren">
    <meta property="og:title" content="Vanzare Teren - Ilfov & Bucuresti" />
    <meta property="og:description" content="Terenuri intravilane în cele mai bune zone: Corbeanca, Dobroești, Snagov, Otopeni, Ploiești.">
    <meta property="og:image" content="/uploads/og-image.jpg">
    <meta property="og:url" content="https://vanzareteren.ro">
    <meta name="twitter:card" content="summary_large_image">
    <title>Vanzare Teren - Terenuri intravilane București & Ilfov</title>

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            -webkit-overflow-scrolling: touch;
            height: 100vh;
            background-color: black;
        }

        .snap-section {
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding-bottom: 4rem;
            z-index: 0;
        }

        .background-element {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .background-element.active {
            opacity: 1;
        }
        
        .background-container {
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .youtube-iframe {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100vw;
            height: 100vh;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .text-overlay {
            background-color: rgba(64, 64, 64, 0.4);
            backdrop-filter: blur(2px);
            padding: 1.5rem;
            border-radius: 0.75rem;
            text-align: center;
            width: 96%;
            box-sizing: border-box;
            transition: all 0.5s ease-in-out;
            z-index: 2;
        }

        .text-overlay:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            margin: auto;
            padding: 0;
            width: 96%;
            max-width: 800px;
            border-radius: 0.75rem;
            overflow: hidden;
        }

        .modal-body {
            background-color: #000;
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }

        .modal-body iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .close-button {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            z-index: 101;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
        }

        .framed-button {
            border: 2px solid #ef4444;
            color: #ef4444;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            display: inline-block;
            margin-top: 1.5rem;
            text-decoration: none;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .framed-button:hover {
            background-color: #ef4444;
            color: #ffffff;
            box-shadow: 0 4px 14px rgba(239, 68, 68, 0.4);
        }

        @media (min-width: 768px) {
            .snap-section {
                padding-bottom: 6rem;
            }
            .text-overlay {
                width: 80%;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gray-900 text-white">

    <header class="fixed top-0 left-0 w-full p-4 z-[9999] bg-transparent">
        <div class="flex items-center justify-start">
            <svg id="logo-openhouse" width="210" height="40" viewBox="0 0 210 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="transition-colors duration-500">
                <text x="0" y="30" font-family="Inter, sans-serif" font-size="30" font-weight="bold">Vanzare Teren</text>
            </svg>
        </div>
    </header>

    <div id="youtube-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal" aria-label="Închide video">×</span>
            <div class="modal-body">
                <div id="youtube-player"></div>
            </div>
        </div>
    </div>

    <main id="main-content" class="scroll-snap-container h-screen overflow-y-scroll" role="main">
        <section id="snap-scroll-1" class="snap-section bg-gray-800">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h1 id="snap1-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h1>
                <p id="snap1-content" class="text-white text-base md:text-lg leading-relaxed whitespace-pre-line"></p>
            </div>
        </section>

        <section id="snap-scroll-2" class="snap-section bg-gray-700">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h2 id="snap2-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h2>
                <p id="snap2-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <a href="/index-rezidential.html" id="snap2-link" class="framed-button mt-6"></a>
            </div>
        </section>

        <section id="snap-scroll-3" class="snap-section bg-gray-600">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center">
                <h2 id="snap3-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></h2>
                <p id="snap3-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <a href="/index-comercial.html" id="snap3-link" class="framed-button mt-6"></a>
            </div>
        </section>

        <section id="snap-scroll-4" class="snap-section bg-gray-500">
            <div class="background-container absolute inset-0"></div>
            <div class="text-overlay p-6 rounded-xl flex flex-col items-center justify-center space-y-4">
                <p id="snap4-title" class="text-red-500 text-xl md:text-3xl font-bold mb-4"></p>
                <p id="snap4-content" class="text-white text-base md:text-lg leading-relaxed"></p>
                <a href="/contact-vanzatori.html" id="snap4-link" class="framed-button mt-6"></a>
                <p id="snap4-phone" class="text-red-500 border-2 border-red-500 rounded-xl px-4 py-2 text-lg md:text-xl font-bold"></p>
                <div class="flex items-center space-x-2">
                    <a href="#" id="snap4-whatsapp-link" target="_blank" rel="noopener noreferrer" class="text-green-500 text-2xl md:text-3xl"><i class="fab fa-whatsapp"></i></a>
                    <span class="text-white text-lg md:text-xl">Whatsapp</span>
                </div>
                <p id="snap4-email" class="text-blue-400 border-2 border-white rounded-xl px-4 py-2 text-lg md:text-xl"></p>
                <div class="flex items-center space-x-4 mt-4">
                    <a href="#" id="snap4-linkedin-link" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-400 text-3xl transition-colors duration-300"><i class="fab fa-linkedin"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-youtube-link" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-400 text-3xl transition-colors duration-300"><i class="fab fa-youtube"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-tiktok-link" target="_blank" rel="noopener noreferrer" class="text-gray-200 hover:text-gray-400 text-3xl transition-colors duration-300"><i class="fab fa-tiktok"></i></a>
                    <span class="text-white text-lg">I</span>
                    <a href="#" id="snap4-instagram-link" target="_blank" rel="noopener noreferrer" class="text-pink-500 hover:text-pink-300 text-3xl transition-colors duration-300"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </section>
    </main>

    <footer class="w-full py-4 bg-gray-900 text-gray-400 text-center text-sm md:text-base absolute bottom-0 z-40">
        <div class="flex justify-center space-x-4">
            <a href="#" class="hover:underline">Confidențialitate</a>
            <span>I</span>
            <a href="#" class="hover:underline">Termeni și condiții</a>
        </div>
    </footer>

    <script>
        function getBasePath() {
            const pathname = window.location.pathname;
            const repoName = 'openhouse';
            const index = pathname.indexOf('/' + repoName);
            if (index !== -1) {
                return pathname.substring(index, index + repoName.length + 1);
            }
            return '';
        }

        const basePath = getBasePath();
        
        const pageContent = {
            mobile: {
                snap1: {
                    title: "Un nou început pentru tine?",
                    content: "Când vinzi sau cumperi o proprietate, ai nevoie de îndrumare ca să iei o decizie bună. O decizie bună se bazează pe experiență. Experiența noastră - din 1998.",
                    mp4Url: `${basePath}/uploads/V1.mp4`,
                    imageUrl: `${basePath}/uploads/SS1.jpg`,
                    linkYoutubeId: "vNscPtijCe4"
                },
                snap2: {
                    title: "Achiziții si vânzări terenuri rezidențiale.",
                    content: "Soluții create pentru tine, perfect adaptate dorințelor tale.",
                    linkText: "Vezi ofertele",
                    linkUrl: "/index-rezidential.html",
                    mp4Url: `${basePath}/uploads/V2.mp4`,
                    imageUrl: `${basePath}/uploads/SS2.jpg`,
                },
                snap3: {
                    title: "Achiziții și vânzări terenuri comerciale.",
                    content: "Explorarea portofoliului nostru începe aici. Caută terenuri care se aliniază perfect cu viziunea ta.",
                    linkText: "Vezi ofertele",
                    linkUrl: "/index-comercial.html",
                    mp4Url: `${basePath}/uploads/V3.mp4`,
                    imageUrl: `${basePath}/uploads/SS3.jpg`,
                },
                snap4: {
                    title: "Ce este cu adevarat important pentru tine?",
                    content: "Stim sa ascultam si o facem cu placere.",
                    linkText: "Contactează-ne",
                    linkUrl: "/contact-vanzatori.html",
                    contact: {
                        phone: "+40726340034",
                        whatsapp: "https://wa.me/40726340034",
                        email: "intravilan@gmail.com",
                        social: {
                            linkedin: "https://www.linkedin.com/company/google",
                            youtube: "https://www.youtube.com/user/youtube",
                            tiktok: "https://www.tiktok.com/@tiktok",
                            instagram: "https://www.instagram.com/instagram"
                        }
                    },
                    mp4Url: `${basePath}/uploads/V4.mp4`,
                    imageUrl: `${basePath}/uploads/SS4.jpg`,
                }
            },
            desktop: {
                snap1: {
                    title: "Un nou început pentru tine?",
                    content: "Când vinzi sau cumperi o proprietate, ai nevoie de îndrumare ca să iei o decizie bună. O decizie bună se bazează pe experiență. Experiența noastră - din 1998.",
                    youtubeId: "vNscPtijCe4",
                    imageUrl: `${basePath}/uploads/SS1.jpg`,
                    mp4Url: ""
                },
                snap2: {
                    title: "Achiziții si vânzări terenuri rezidențiale.",
                    content: "Soluții create pentru tine, perfect adaptate dorințelor tale.",
                    linkText: "Vezi ofertele",
                    linkUrl: "/index-rezidential.html",
                    mp4Url: `${basePath}/uploads/V2.mp4`,
                    imageUrl: `${basePath}/uploads/SS2.jpg`,
                },
                snap3: {
                    title: "Achiziții și vânzări terenuri comerciale.",
                    content: "Explorarea portofoliului nostru începe aici. Caută terenuri care se aliniază perfect cu viziunea ta.",
                    linkText: "Vezi ofertele",
                    linkUrl: "/index-comercial.html",
                    mp4Url: `${basePath}/uploads/V3.mp4`,
                    imageUrl: `${basePath}/uploads/SS3.jpg`,
                },
                snap4: {
                    title: "Ce este cu adevarat important pentru tine?",
                    content: "Stim sa ascultam si o facem cu placere.",
                    linkText: "Contactează-ne",
                    linkUrl: "/contact-vanzatori.html",
                    contact: {
                        phone: "+40726340034",
                        whatsapp: "https://wa.me/40726340034",
                        email: "intravilan@gmail.com",
                        social: {
                            linkedin: "https://www.linkedin.com/company/google",
                            youtube: "https://www.youtube.com/user/youtube",
                            tiktok: "https://www.tiktok.com/@tiktok",
                            instagram: "https://www.instagram.com/instagram"
                        }
                    },
                    mp4Url: `${basePath}/uploads/V4.mp4`,
                    imageUrl: `${basePath}/uploads/SS4.jpg`,
                }
            }
        };

        let backgroundYoutubePlayers = {};

        const isMobileDevice = () => window.innerWidth < 768;

        function loadYouTubeAPI() {
            if (typeof YT !== 'undefined' && YT.Player) {
                if (window.onYouTubeIframeAPIReady) {
                    window.onYouTubeIframeAPIReady();
                }
                return;
            }

            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            setTimeout(() => {
                if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
                    console.warn('YouTube API failed to load. Some video functionalities might be affected.');
                }
            }, 5000);
        }

        window.onYouTubeIframeAPIReady = function() {
            document.querySelectorAll('.snap-section').forEach((section, index) => {
                const isDesktop = !isMobileDevice();
                const snapKey = `snap${index + 1}`;
                const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];
                
                if (isDesktop && section.id === 'snap-scroll-1' && content.youtubeId) {
                    const playerDivId = `youtube-bg-player-${section.id}`;
                    let playerDiv = document.getElementById(playerDivId);

                    if (!playerDiv) {
                        playerDiv = document.createElement('div');
                        playerDiv.id = playerDivId;
                        playerDiv.className = 'youtube-iframe background-element';
                        section.querySelector('.background-container').appendChild(playerDiv);
                    }

                    if (!backgroundYoutubePlayers[playerDivId]) {
                        backgroundYoutubePlayers[playerDivId] = new YT.Player(playerDivId, {
                            videoId: content.youtubeId,
                            playerVars: {
                                autoplay: 0,
                                controls: 0,
                                loop: 1,
                                mute: 1,
                                playlist: content.youtubeId,
                                rel: 0,
                                showinfo: 0,
                                modestbranding: 1
                            },
                            events: {
                                'onReady': (event) => {
                                    event.target.setPlaybackQuality('hd1080');
                                    setTimeout(() => playerDiv.classList.add('active'), 50);
                                },
                                'onStateChange': (event) => {
                                    if (event.data === YT.PlayerState.ENDED) {
                                        event.target.seekTo(0);
                                    }
                                }
                            }
                        });
                    }
                }
            });
        };

        function updateBackground(sectionElement, contentData) {
            const bgContainer = sectionElement.querySelector('.background-container');
            bgContainer.innerHTML = ''; 

            let elementToAppend = null;
            const isDesktop = !isMobileDevice();

            if (isDesktop && sectionElement.id === 'snap-scroll-1' && contentData.youtubeId) {
                const playerDivId = `youtube-bg-player-${sectionElement.id}`;
                let existingPlayerDiv = document.getElementById(playerDivId);
                if (existingPlayerDiv) {
                    bgContainer.appendChild(existingPlayerDiv);
                    setTimeout(() => existingPlayerDiv.classList.add('active'), 50);
                    return;
                } else {
                    const playerDiv = document.createElement('div');
                    playerDiv.id = playerDivId;
                    playerDiv.className = 'youtube-iframe background-element';
                    bgContainer.appendChild(playerDiv);
                    return;
                }
            }
            
            if (contentData.mp4Url && contentData.mp4Url !== '') {
                const video = document.createElement('video');
                video.src = contentData.mp4Url;
                video.className = 'background-element'; 
                video.autoplay = true;
                video.loop = true;
                video.muted = true;
                video.playsInline = true;
                video.preload = "auto";
                video.setAttribute('aria-label', `Video de fundal pentru secțiunea ${sectionElement.id.replace('snap-scroll-', '')}`);

                video.onerror = (e) => {
                    console.error(`Eroare la incarcarea video-ului MP4: ${video.src}`, e);
                    if (contentData.imageUrl && contentData.imageUrl !== '') {
                        const img = document.createElement('img');
                        img.src = contentData.imageUrl;
                        img.className = 'background-element active';
                        img.alt = `Fundal static (fallback video) pentru ${sectionElement.id}`;
                        img.loading = "lazy";
                        bgContainer.innerHTML = '';
                        bgContainer.appendChild(img);
                    } else {
                        bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal video indisponibil.</div>';
                    }
                };
                
                elementToAppend = video;
                
            } else if (contentData.imageUrl && contentData.imageUrl !== '') {
                const img = document.createElement('img');
                img.src = contentData.imageUrl;
                img.className = 'background-element'; 
                img.alt = `Fundal pentru secțiunea ${sectionElement.id.replace('snap-scroll-', '')}`;
                img.loading = "lazy";

                img.onerror = (e) => {
                    console.error(`Eroare la incarcarea imaginii: ${img.src}`, e);
                    bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal imagine indisponibil.</div>';
                };
                elementToAppend = img;
            } else {
                bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Fundal indisponibil.</div>';
            }

            if (elementToAppend) {
                bgContainer.appendChild(elementToAppend);

                if (elementToAppend.tagName === 'VIDEO') {
                    elementToAppend.play().catch(e => {
                        console.warn(`Autoplay video MP4 blocat pentru ${elementToAppend.src}. Eroare:`, e);
                        if (contentData.imageUrl && contentData.imageUrl !== '') {
                            const img = document.createElement('img');
                            img.src = contentData.imageUrl;
                            img.className = 'background-element active';
                            img.alt = `Fundal static (video blocat) pentru ${sectionElement.id}`;
                            img.loading = "lazy";
                            bgContainer.innerHTML = '';
                            bgContainer.appendChild(img);
                        } else {
                            bgContainer.innerHTML = '<div class="background-element flex items-center justify-center text-gray-500 text-center p-4">Video nu poate fi redat automat.</div>';
                        }
                    });
                }
                
                if (!(isDesktop && sectionElement.id === 'snap-scroll-1' && contentData.youtubeId)) {
                    setTimeout(() => elementToAppend.classList.add('active'), 50);
                }
            }
        }

        function populateContent() {
            const currentContentSource = isMobileDevice() ? pageContent.mobile : pageContent.desktop;

            const snap1Data = currentContentSource.snap1;
            document.getElementById('snap1-title').textContent = snap1Data.title || '';
            document.getElementById('snap1-title').style.display = snap1Data.title ? 'block' : 'none';
            document.getElementById('snap1-content').textContent = snap1Data.content || '';
            document.getElementById('snap1-content').style.display = snap1Data.content ? 'block' : 'none';
            updateBackground(document.getElementById('snap-scroll-1'), snap1Data);

            const snap2Data = currentContentSource.snap2;
            document.getElementById('snap2-title').textContent = snap2Data.title || '';
            document.getElementById('snap2-title').style.display = snap2Data.title ? 'block' : 'none';
            document.getElementById('snap2-content').textContent = snap2Data.content || '';
            document.getElementById('snap2-content').style.display = snap2Data.content ? 'block' : 'none';
            const snap2Link = document.getElementById('snap2-link');
            snap2Link.textContent = snap2Data.linkText || '';
            snap2Link.href = snap2Data.linkUrl || '#';
            snap2Link.style.display = snap2Data.linkText ? 'inline-block' : 'none';
            snap2Link.onclick = null;
            updateBackground(document.getElementById('snap-scroll-2'), snap2Data);

            const snap3Data = currentContentSource.snap3;
            document.getElementById('snap3-title').textContent = snap3Data.title || '';
            document.getElementById('snap3-title').style.display = snap3Data.title ? 'block' : 'none';
            document.getElementById('snap3-content').textContent = snap3Data.content || '';
            document.getElementById('snap3-content').style.display = snap3Data.content ? 'block' : 'none';
            const snap3Link = document.getElementById('snap3-link');
            snap3Link.textContent = snap3Data.linkText || '';
            snap3Link.href = snap3Data.linkUrl || '#';
            snap3Link.style.display = snap3Data.linkText ? 'inline-block' : 'none';
            snap3Link.onclick = null;
            updateBackground(document.getElementById('snap-scroll-3'), snap3Data);

            const snap4Data = currentContentSource.snap4;
            const snap4Phone = document.getElementById('snap4-phone');
            const snap4WhatsappLink = document.getElementById('snap4-whatsapp-link');
            const snap4Email = document.getElementById('snap4-email');
            const snap4LinkedinLink = document.getElementById('snap4-linkedin-link');
            const snap4YoutubeLink = document.getElementById('snap4-youtube-link');
            const snap4TiktokLink = document.getElementById('snap4-tiktok-link');
            const snap4InstagramLink = document.getElementById('snap4-instagram-link');
            const snap4Title = document.getElementById('snap4-title');
            const snap4Content = document.getElementById('snap4-content');
            const snap4Link = document.getElementById('snap4-link');

            snap4Title.textContent = snap4Data.title || '';
            snap4Title.style.display = snap4Data.title ? 'block' : 'none';
            snap4Content.textContent = snap4Data.content || '';
            snap4Content.style.display = snap4Data.content ? 'block' : 'none';
            snap4Link.textContent = snap4Data.linkText || '';
            snap4Link.href = snap4Data.linkUrl || '#';
            snap4Link.style.display = snap4Data.linkText ? 'inline-block' : 'none';
            snap4Link.onclick = null;

            snap4Phone.textContent = ` ${snap4Data.contact.phone}` || '';
            snap4Phone.style.display = snap4Data.contact.phone ? 'block' : 'none';
            snap4WhatsappLink.href = snap4Data.contact.whatsapp || '#';
            snap4WhatsappLink.parentElement.style.display = snap4Data.contact.whatsapp ? 'flex' : 'none';
            snap4Email.textContent = ` ${snap4Data.contact.email}` || '';
            snap4Email.style.display = snap4Data.contact.email ? 'block' : 'none';

            snap4LinkedinLink.href = snap4Data.contact.social.linkedin || '#';
            snap4YoutubeLink.href = snap4Data.contact.social.youtube || '#';
            snap4TiktokLink.href = snap4Data.contact.social.tiktok || '#';
            snap4InstagramLink.href = snap4Data.contact.social.instagram || '#';

            const socialLinksContainer = snap4LinkedinLink.parentElement;
            const hasSocialLinks = Object.values(snap4Data.contact.social).some(link => link !== '');
            socialLinksContainer.style.display = hasSocialLinks ? 'flex' : 'none';

            updateBackground(document.getElementById('snap-scroll-4'), snap4Data);
        }

        const logoColors = ['#F97316', '#FACC15', '#22C55E', '#A855F7'];
        const logoElement = document.getElementById('logo-openhouse');
        const snapSections = document.querySelectorAll('.snap-section');
        const mainContent = document.getElementById('main-content');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const index = Array.from(snapSections).indexOf(entry.target);
                    if (index !== -1) {
                        logoElement.style.color = logoColors[index];

                        const isDesktop = !isMobileDevice();
                        const snapKey = `snap${index + 1}`;
                        const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];

                        if (isDesktop && entry.target.id === 'snap-scroll-1' && content.youtubeId) {
                             const playerDivId = `youtube-bg-player-${entry.target.id}`;
                             const player = backgroundYoutubePlayers[playerDivId];
                             if (player && player.playVideo) {
                                 const playPromise = player.playVideo();
                                 if (playPromise !== undefined) {
                                     playPromise.then(_ => {
                                     }).catch(error => {
                                         const bgContainer = entry.target.querySelector('.background-container');
                                         if (content.imageUrl) {
                                            const img = document.createElement('img');
                                            img.src = content.imageUrl;
                                            img.className = 'background-element active';
                                            img.alt = 'Video blocat';
                                            bgContainer.innerHTML = ''; 
                                            bgContainer.appendChild(img);
                                         }
                                     });
                                 }
                             }
                         }
                    }
                } else {
                    const index = Array.from(snapSections).indexOf(entry.target);
                    const isDesktop = !isMobileDevice();
                    const snapKey = `snap${index + 1}`;
                    const content = isDesktop ? pageContent.desktop[snapKey] : pageContent.mobile[snapKey];

                    if (isDesktop && entry.target.id === 'snap-scroll-1' && content.youtubeId) {
                         const playerDivId = `youtube-bg-player-${entry.target.id}`;
                         const player = backgroundYoutubePlayers[playerDivId];
                         if (player && player.pauseVideo) {
                             player.pauseVideo();
                         }
                    }
                }
            });
        }, {
            threshold: 0.5
        });

        snapSections.forEach(section => {
            observer.observe(section);
        });

        const youtubeModal = document.getElementById('youtube-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const youtubePlayerDiv = document.getElementById('youtube-player');
        let modalYoutubePlayer;

        function openYoutubeModal(videoId) {
            youtubeModal.style.display = 'flex';

            if (typeof YT !== 'undefined' && YT.Player) {
                if (modalYoutubePlayer) {
                    modalYoutubePlayer.loadVideoById(videoId);
                } else {
                    modalYoutubePlayer = new YT.Player('youtube-player', {
                        videoId: videoId,
                        playerVars: {
                            autoplay: 1,
                            controls: 1,
                            rel: 0,
                            showinfo: 0,
                            modestbranding: 1
                        }
                    });
                }
            } else {
            }
        }

        function closeYoutubeModal() {
            youtubeModal.style.display = 'none';
            if (modalYoutubePlayer && modalYoutubePlayer.stopVideo) {
                modalYoutubePlayer.stopVideo();
            }
        }

        closeModalBtn.onclick = closeYoutubeModal;
        window.onclick = function(event) {
            if (event.target == youtubeModal) {
                closeYoutubeModal();
            }
        };

        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                populateContent();
            }, 250);
        });

        window.addEventListener('load', () => {
            populateContent();
            loadYouTubeAPI();
        });
    </script>
</body>
</html>